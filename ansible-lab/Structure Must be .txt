Изначально так планировалось:

nginx-modsecurity-geoip2/
├── dependencies/
│   └── main.yml                # Установка общих зависимостей (для Nginx, ModSecurity, GeoIP2)
├── nginx/
│   └── main.yml                # Установка Nginx через apt
├── modsecurity/
│   ├── build_engine.yml        # Сборка libmodsecurity (WAF-движок)
│   └── build_module.yml        # Сборка динамического модуля ModSecurity для Nginx
├── geoip2/
│   └── build_module.yml        # Сборка динамического модуля GeoIP2
├── modules/
│   └── copy_so_files.yml       # Копирование .so файлов в папку модулей Nginx
├── configs/
│   └── nginx_conf.yml          # Настройка конфигов Nginx (подключение модулей и параметры)
├── geoip2_owasp/
│   └── download_data.yml       # Скачивание баз GeoIP2 и OWASP CRS
├── restart_check/
│   └── restart_nginx.yml       # Перезапуск Nginx и проверка
└── README.md                   # Документация и порядок выполнения


Описание блоков (8 directories, 9 files)

dependencies/ — установка всех необходимых пакетов и зависимостей для дальнейших шагов.
nginx/ — установка самого Nginx через стандартный пакетный менеджер.
modsecurity/ — сборка движка libmodsecurity и модуля для интеграции с Nginx.
geoip2/ — сборка модуля GeoIP2 для поддержки геолокации по IP.
modules/ — копирование собранных .so файлов (модулей) в нужную директорию Nginx.
configs/ — автоматическая правка и расширение конфигураций Nginx для использования новых модулей.
geoip2_owasp/ — скачивание и установка базы GeoIP2, а также последней версии OWASP CRS для ModSecurity.
restart_check/ — перезапуск Nginx и тестирование валидности конфигов и работоспособности модулей.
README.md — структура, порядок выполнения, доп. пояснения по шагам.