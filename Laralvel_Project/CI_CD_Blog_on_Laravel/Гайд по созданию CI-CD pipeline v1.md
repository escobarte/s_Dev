# –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π CI/CD –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è Laravel —Å Docker

## üéØ –ß—Ç–æ –º—ã —Å–æ–∑–¥–∞–ª–∏

–ú—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏ –æ–±—ã—á–Ω—ã–π Laravel –ø—Ä–æ–µ–∫—Ç –≤ **–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π production-ready** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º CI/CD –¥–µ–ø–ª–æ–µ–º. 

### –î–æ –∏ –ü–æ—Å–ª–µ:

**–î–û:** 
- 4 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (nginx + php + mysql + node)
- –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

**–ü–û–°–õ–ï:**
- 1 —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ –≤—Å–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ GitLab CI/CD
- –î–µ–ø–ª–æ–π –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –ª—é–±–æ–π —Å–µ—Ä–≤–µ—Ä

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/opt/professional-laravel-blog/
‚îú‚îÄ‚îÄ src/                     # Laravel –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ supervisord.conf    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ start.sh           # –°—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ Dockerfile.prod        # –†–µ—Ü–µ–ø—Ç production –æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ .gitlab-ci.yml        # CI/CD –ø–∞–π–ø–ª–∞–π–Ω
‚îú‚îÄ‚îÄ compose.yaml          # –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ nginx/
    ‚îî‚îÄ‚îÄ default.conf      # –°—Ç–∞—Ä–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx
```

---

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

### 1. Multi-stage Dockerfile (Dockerfile.prod)

**–ß—Ç–æ —ç—Ç–æ:** –†–µ—Ü–µ–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã Laravel.

**–≠—Ç–∞–ø—ã —Å–±–æ—Ä–∫–∏:**
1. **node-builder** ‚Äî —Å–æ–±–∏—Ä–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (CSS/JS)
2. **php-base** ‚Äî –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç PHP —Å –Ω—É–∂–Ω—ã–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏
3. **app** ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

```dockerfile
# –≠—Ç–∞–ø 1: –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
FROM node:20-alpine AS node-builder
# ... —Å–æ–±–∏—Ä–∞–µ–º CSS/JS —Ñ–∞–π–ª—ã

# –≠—Ç–∞–ø 2: PHP —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏  
FROM php:8.3-fpm-alpine AS php-base
# ... —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º PHP —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

# –≠—Ç–∞–ø 3: –§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
FROM php-base AS app
# ... –∫–æ–ø–∏—Ä—É–µ–º –∫–æ–¥ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ multi-stage:**
- ‚úÖ –ú–∞–ª–µ–Ω—å–∫–∏–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (—É–±–∏—Ä–∞–µ–º –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–±–æ—Ä–∫–∏)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–µ—Ç –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ npm/composer –≤ production)
- ‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### 2. Supervisor ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –í Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≥–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –Ω–æ –Ω–∞–º –Ω—É–∂–Ω–æ nginx + php-fpm –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ:** Supervisor —Å–ª–µ–¥–∏—Ç –∑–∞ –æ–±–æ–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∏—Ö –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏.

```ini
[program:php-fpm]
command=php-fpm --nodaemonize
autostart=true
autorestart=true

[program:nginx]  
command=nginx -g "daemon off;"
autostart=true
autorestart=true
```

### 3. –°—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç (start.sh)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**

```bash
1. –°–æ–∑–¥–∞—ë—Ç .env —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è production
2. –°–æ–∑–¥–∞—ë—Ç SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö  
3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–∞–º
4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Laravel
5. –ó–∞–ø—É—Å–∫–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥—ã (—Å–æ–∑–¥–∞—ë—Ç demo –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
6. –ö–µ—à–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
7. –ó–∞–ø—É—Å–∫–∞–µ—Ç supervisor (nginx + php-fpm)
```

**–ü–æ—á–µ–º—É SQLite:** –£–ø—Ä–æ—â–∞–µ—Ç –¥–µ–ø–ª–æ–π ‚Äî –Ω–µ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä MySQL.

### 4. GitLab CI/CD Pipeline

**3 —ç—Ç–∞–ø–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**

#### üì¶ Build (–°–±–æ—Ä–∫–∞)
- –°–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑ –∏–∑ Dockerfile.prod
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤ GitLab Container Registry  
- –°–æ–∑–¥–∞–µ—Ç —Ç–µ–≥–∏ –ø–æ –∫–æ–º–º–∏—Ç—É –∏ `latest`

#### üß™ Test (–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –°–∫–∞—á–∏–≤–∞–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ —Å–∞–π—Ç –æ—Ç–≤–µ—á–∞–µ—Ç  
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç artisan –∫–æ–º–∞–Ω–¥—ã

#### üöÄ Deploy (–î–µ–ø–ª–æ–π)
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ (shell runner)
- –°–∫–∞—á–∏–≤–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

```yaml
stages:
  - build   # GitLab shared runner
  - test    # GitLab shared runner  
  - deploy  # –ù–∞—à —Å–µ—Ä–≤–µ—Ä 10.100.93.6
```

---

## üõ† –ü–æ—à–∞–≥–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ production Dockerfile

–°–æ–∑–¥–∞—ë–º `Dockerfile.prod` —Å multi-stage —Å–±–æ—Ä–∫–æ–π:
- –°–æ–±–∏—Ä–∞–µ–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–¥–µ–ª—å–Ω–æ
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ production –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ PHP
- –ö–æ–ø–∏—Ä—É–µ–º –≥–æ—Ç–æ–≤—ã–µ –∞—Å—Å–µ—Ç—ã
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º nginx + supervisor

### –®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**docker/nginx.conf** ‚Äî –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```nginx
server {
    listen 80;
    root /var/www/html/public;  # Laravel public –ø–∞–ø–∫–∞
    
    location ~ \.php$ {
        fastcgi_pass 127.0.0.1:9000;  # –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ PHP-FPM
    }
}
```

**docker/supervisord.conf** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
**docker/start.sh** ‚Äî —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 3: CI/CD Pipeline

–°–æ–∑–¥–∞—ë–º `.gitlab-ci.yml` —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π:
- –ü—Ä–∏ –ø—É—à–µ –≤ main ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è
- –î–µ–ø–ª–æ–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GitLab Container Registry –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Runner

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ 10.100.93.6 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω GitLab Shell Runner:
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥–µ–ø–ª–æ—è –ø—Ä—è–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ò–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ Docker –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```mermaid
graph LR
    A[–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—É—à–∏—Ç –∫–æ–¥] --> B[GitLab –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–¥]
    B --> C[–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è CI/CD]
    C --> D[Build: —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è Docker –æ–±—Ä–∞–∑]  
    D --> E[Test: —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –æ–±—Ä–∞–∑]
    E --> F[Deploy: –∂–¥–µ—Ç —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞]
    F --> G[–î–µ–ø–ª–æ–π –Ω–∞ production]
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ–µ:

1. **–°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è** –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Docker –æ–±—Ä–∞–∑
2. **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è** —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
3. **–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
4. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

### Rollback (–æ—Ç–∫–∞—Ç):

```bash
# –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
docker run -d --name laravel-blog-prod -p 8080:80 \
  registry.gitlab.com/your-project:–ø—Ä–µ–¥—ã–¥—É—â–∏–π-–∫–æ–º–º–∏—Ç-sha
```

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**
- –û–¥–∏–Ω –æ–±—Ä–∞–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ: –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ, —Ç–µ—Å—Ç–æ–≤–æ–º –∏ production —Å–µ—Ä–≤–µ—Ä–µ
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º "—É –º–µ–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ —É –≤–∞—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"

### ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** 
- Production –æ–±—Ä–∞–∑ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ
- –ù–µ—Ç dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ —Å–±–æ—Ä–∫–∏
- –ö–∞–∂–¥—ã–π –¥–µ–ø–ª–æ–π ‚Äî —ç—Ç–æ —á–∏—Å—Ç—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

### ‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å –¥–µ–ø–ª–æ—è**
- –î–µ–ø–ª–æ–π –∑–∞ 10-30 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rollback –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Å—Ç–æ—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

### ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –õ–µ–≥–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ø–∏–π (load balancing)  
- –ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤
- –ì–æ—Ç–æ–≤ –¥–ª—è Kubernetes –ø—Ä–∏ —Ä–æ—Å—Ç–µ

### ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –í—Å–µ –ª–æ–≥–∏ –∏–¥—É—Ç –≤ stdout (–≤–∏–¥–Ω—ã —á–µ—Ä–µ–∑ `docker logs`)
- Supervisor –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —É–ø–∞–≤—à–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- Healthcheck –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

---

## üéõ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs laravel-blog-prod -f

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞  
docker ps | grep laravel-blog-prod

# –ó–∞—Ö–æ–¥ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec -it laravel-blog-prod sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏
docker exec laravel-blog-prod supervisorctl status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker exec laravel-blog-prod supervisorctl restart nginx
docker exec laravel-blog-prod supervisorctl restart php-fpm
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ GitLab:

- **CI/CD ‚Üí Pipelines** ‚Äî –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–µ–ø–ª–æ–µ–≤
- **Packages & Registries ‚Üí Container Registry** ‚Äî –≤—Å–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã  
- **CI/CD ‚Üí Environments** ‚Äî —Å—Ç–∞—Ç—É—Å production —Å—Ä–µ–¥—ã

---

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ Best Practices

### –ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **Multi-stage build** ‚Äî —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–µ–µ –∏–∑ production
2. **Non-root user** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç www-data  
3. **Minimal base image** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º Alpine Linux
4. **No secrets in code** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ CI/CD
5. **Immutable deployments** ‚Äî –∫–∞–∂–¥—ã–π –¥–µ–ø–ª–æ–π —ç—Ç–æ –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

### Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:

- ‚úÖ **SQLite** –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏–ª–∏ **–≤–Ω–µ—à–Ω—è—è MySQL** –¥–ª—è –±–æ–ª—å—à–∏—Ö  
- ‚úÖ **Supervisor** —Å–ª–µ–¥–∏—Ç –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- ‚úÖ **Nginx** –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è production
- ‚úÖ **Laravel** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è production (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏** –∏ **demo –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**

---

## üöÄ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **–í–Ω–µ—à–Ω—è—è MySQL** –≤–º–µ—Å—Ç–æ SQLite –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
2. **Redis** –¥–ª—è –∫–µ—à–∞ –∏ —Å–µ—Å—Å–∏–π  
3. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** —á–µ—Ä–µ–∑ Let's Encrypt
4. **Health checks** –≤ Docker Compose
5. **Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è** –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
6. **Monitoring** (Prometheus + Grafana)
7. **Load Balancer** –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:

```yaml
# docker-compose.prod.yml –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
services:
  app:
    image: your-registry/laravel-blog:latest
    deploy:
      replicas: 3  # 3 –∫–æ–ø–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  
  nginx:
    image: nginx
    # Load balancer –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

## üìö –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú—ã —Å–æ–∑–¥–∞–ª–∏ **enterprise-level CI/CD —Ä–µ—à–µ–Ω–∏–µ** –¥–ª—è Laravel:

- üèóÔ∏è **Production-ready Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** 
- ‚ö° **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- üöÄ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–µ–ø–ª–æ–π –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π**  
- üîÑ **–ë—ã—Å—Ç—Ä—ã–π rollback –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö**
- üìä **–ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞**

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –∫–æ–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ build ‚Üí test ‚Üí deploy pipeline, —á—Ç–æ **—É—Å—Ç—Ä–∞–Ω—è–µ—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏** –∏ **—É—Å–∫–æ—Ä—è–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É —Ñ–∏—á** –≤ production.

**–≠—Ç–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ –∫—Ä—É–ø–Ω—ã—Ö IT-–∫–æ–º–ø–∞–Ω–∏—è—Ö!** üéâ