## Linux Admin Cheatsheet

### ๐ ะะฑัะธะต ะบะปััะธ ะบะพะผะฐะฝะด

```bash
-r  # Recursive โ ัะตะบัััะธะฒะฝะพ (ะฝะต ัะพะปัะบะพ ะฒ ัะบะฐะทะฐะฝะฝะพะน ะดะธัะตะบัะพัะธะธ, ะฝะพ ะธ ะฒะพ ะฒัะตั ะฟะพะดะดะธัะตะบัะพัะธัั ะธ ัะฐะนะปะฐั)
-f  # Follow โ ััะฐะทั ะฒัะฒะพะดะธัั ะฝะพะฒัะต ัััะพะบะธ, ะบะฐะบ ัะพะปัะบะพ ะพะฝะธ ะฟะพัะฒะปััััั ะฒ ัะฐะนะปะต (ะธัะฟะพะปัะทัะตััั ะฒ tail)
```

---

### ๐ ะััะพัะธั ะบะพะผะฐะฝะด (ัะธะปัััะฐัะธั)

```bash
# ะฃะฑะธัะฐะตะผ ะฝะพะผะตัะฐ ะธ ะฒัะตะผั ะธะท ะฒัะฒะพะดะฐ history
history | awk '{$1=$2=$3="" ; print $0}' | sed 's/^ *//'
```

---

### ๐ ะะพะธัะบ ะธ ะฟะตัะตะผะตัะตะฝะธะต ัะฐะนะปะพะฒ

```bash
# ะะฐะนัะธ ัะฐะนะปั ั ะธะผะตะฝะตะผ, ัะพะดะตัะถะฐัะธะผ "Gemeni" ะธ ะฟะตัะตะผะตััะธัั ะธั
find /path/to/source/folder/ -maxdepth 1 -type f -name "*Gemeni*" -exec mv {} /path/to/destination/folder/ \;
```

---

### ๐ ะะพะธัะบ ะฟะพ ัะพะดะตัะถะธะผะพะผั ัะฐะนะปะพะฒ

```bash
grep -r "unicast" /etc/                     # ะัะตั "unicast" ะฒะพ ะฒัะตั ัะฐะนะปะฐั ะฒะฝัััะธ /etc
grep -r ssl_cert *conf                      # ะัะตั "ssl_cert" ะฒะพ ะฒัะตั ัะฐะนะปะฐั ั ัะฐััะธัะตะฝะธะตะผ *conf
```

---

### ๐ ะัะพัะผะพัั ะปะพะณะพะฒ

```bash
tail -f /var/log/nginx                      # ะะพะบะฐะทัะฒะฐะตั ะฟะพัะปะตะดะฝะธะต 10 ัััะพะบ + ะฝะพะฒัะต ัััะพะบะธ ััะฐะทั

# ะะพะบะฐะทัะฒะฐะตั ะฟะพัะปะตะดะฝะธะต 50 ัััะพะบ
tail -n 50 /var/log/zabbix/zabbix_server.log

# ะะฐะบะธะต ะฐะฟะดะตะนัั ะฑัะปะธ ัััะฐะฝะพะฒะปะตะฝะฝั
cat /var/log/apt/history.log
```

---

### ๐ ะกะตัะตะฒัะต ัะพะตะดะธะฝะตะฝะธั

```bash
ss -tuln | grep 5432                        # ะัะพะฒะตัะธัั, ัะปััะฐะตั ะปะธ ะฟะพัั 5432
netstat                                     # ะะพะบะฐะทะฐัั ัะตัะตะฒัะต ัะพะตะดะธะฝะตะฝะธั (ััะตะฑัะตั apt install net-tools)
netstat -tulnp | grep nginx                 # ะะฝัะพ ะฟะพ nginx ัะตัะตะท netstat
ss -tulnp | grep 80 | grep nginx            # ะัะพะฒะตัะธัั, ัะปััะฐะตั ะปะธ nginx ะฝะฐ ะฟะพััั 80
ip a                                        # ะะพะบะฐะทะฐัั IP ะฐะดัะตัะฐ
ip a | grep 93.2                            # ะะฐะนัะธ ะบะพะฝะบัะตัะฝัะน IP

telnet 10.100.93.4 22                       # ะัะพะฒะตัะธัั ะดะพัััะฟะฝะพััั ะฟะพััะฐ 22 ะฝะฐ IP

tcpdump -ni ens192                          # ะกะปััะฐัั ััะฐัะธะบ ะฝะฐ ะธะฝัะตััะตะนัะต ens192 ะฑะตะท DNS/ะฟะพััะพะฒ
```

---

### ๐ฝ ะะฐะฑะพัะฐ ั ะดะธัะบะฐะผะธ

```bash
parted /dev/sda print free                  # ะะพะบะฐะทะฐัั ัะฒะพะฑะพะดะฝะพะต ะผะตััะพ ะฝะฐ sda
parted /dev/sdb1 unit GB print free         # ะขะพ ะถะต, ะฝะพ ะฒ ะะ
du -sh /var/log/* | sort -hr                # ะกะบะพะปัะบะพ ะฒะตััั ัะฐะนะปั ะฒ ะฒะฐั ะปะพะณ

df -T                                       # ะะพะบะฐะทะฐัั ัะฒะพะฑะพะดะฝะพะต ะผะตััะพ ะฟะพ ัะฐะนะปะพะฒัะผ ัะธััะตะผะฐะผ

apt install sysstat                         # ะฃััะฐะฝะพะฒะบะฐ ะฟะฐะบะตัะฐ ัะพ ััะฐัะธััะธะบะพะน

iostat                                      # I/O ััะฐัะธััะธะบะฐ
vmstat                                      # ะกัะฐัะธััะธะบะฐ ะฟะฐะผััะธ
```

---

### ๐ ะัะบััััะต ัะฐะนะปั ะธ ะฟัะพัะตััั

```bash
lsof +f -- /mnt/dns                         # ะะพะบะฐะทะฐัั ะบัะพ ะธัะฟะพะปัะทัะตั /mnt/dns
fuser -vm /mnt/dns                          # ะขะพ ะถะต ัะฐะผะพะต
ls -lht   ยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยย# ะฝะพะฒัะต ัะฐะนะปั ะฟะพ ะดะฐัะต ะธะทะผะตะฝะตะฝะธั
ls -lhu ยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยยย  # ะฝะพะฒัะต ัะฐะนะปั ะฟะพ ะดะฐัะต ะดะพัััะฟะฐ
ls -lhc   # ะฝะพะฒัะต ัะฐะนะปั ะฟะพ ะธะทะผะตะฝะตะฝะธั ะผะตัะฐะดะฐะฝะฝัั



ps l                                        # ะัะพัะตััั ะฒ ะดะปะธะฝะฝะพะผ ัะพัะผะฐัะต
ps aux                                      # ะัะต ะฟัะพัะตััั
ps aux | grep nginx                         # ะะพะธัะบ ะฟัะพัะตััะพะฒ nginx
kill -9 <PID>                               # ะัะธะฝัะดะธัะตะปัะฝะพะต ะทะฐะฒะตััะตะฝะธะต ะฟัะพัะตััะฐ
```

---

### ๐๏ธ ะกะตัะฒะธัั systemd

```bash
systemctl --type=service --state=running    # ะะพะบะฐะทะฐัั ะฒัะต ะฐะบัะธะฒะฝัะต ัะตัะฒะธัั

journalctl                  # ะะพะบะฐะทะฐัั ะฒัะต ะปะพะณะธ
journalctl -u nginx         # ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
journalctl --since today    # ะะพะณะธ ะทะฐ ัะตะณะพะดะฝั
journalctl -b               # ะะพะณะธ ัะตะบััะตะน ะทะฐะณััะทะบะธ
```

---

### ๐ฅ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ ะธ ะณััะฟะฟะฐะผะธ

```bash
/etc/shadow        # ะฅัะฐะฝะธั ัััะธ ะฟะฐัะพะปะตะน ะฟะพะปัะทะพะฒะฐัะตะปะตะน
/etc/passwd        # ะะฝัะพ ะพ ะฟะพะปัะทะพะฒะฐัะตะปัั (uid, shell ะธ ัะด)
/etc/group         # ะะฝัะพัะผะฐัะธั ะพ ะณััะฟะฟะฐั
id zabbix          # ะะฝัะพ ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต zabbix
```