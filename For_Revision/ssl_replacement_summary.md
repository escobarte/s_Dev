
# –ó–∞–º–µ–Ω–∞ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
_Author: Alexandr Dagutan_  
_Date: Jun 20, 2025_

---

## üõ† –û–±—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å

–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –∑–∞–º–µ–Ω–∞ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ `wild.gov.md.*` –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –¥–æ–º–µ–Ω–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å IP `10.100.45.7`. –°—Ü–µ–Ω–∞—Ä–∏–π —Ä–∞–∑–±–∏—Ç –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏:
1. **–î–µ–π—Å—Ç–≤–∏—è —Å WSL (–ª–æ–∫–∞–ª—å–Ω–æ)**
2. **–î–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—É–¥–∞–ª—ë–Ω–Ω–æ –ø–æ SSH)**

---

## üìÑ –ß–∞—Å—Ç—å 1: –ö–æ–º–∞–Ω–¥—ã WSL (–ª–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞)

```bash
ssh 10.100.45.7  # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
scp ssl/gov.md-2025/wild.gov.md.* 10.100.45.7:~/  # –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–≤–æ–≥–æ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏ –∫–ª—é—á–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
cat > list.txt  # –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ–º–µ–Ω–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
vim list.txt  # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞
cat list.txt  # –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–ø–∏—Å–∫–∞
for DOMAIN in $(cat list.txt); do host $DOMAIN; done  # –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–≤
for DOMAIN in $(cat list.txt); do host $DOMAIN; done | grep 188  # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–æ–º–µ–Ω–æ–≤, —É–∫–∞–∑—ã–≤–∞—é—â–∏—Ö –Ω–∞ IP (–Ω–∞–ø—Ä–∏–º–µ—Ä 188.*)
openssl s_client -connect gestionare-sanctiuni.gov.md:443 -dates -noout  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç –¥–µ–π—Å—Ç–≤–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl s_client -connect gestionare-sanctiuni.gov.md:443 | openssl x509 -text -noout | grep NotBefore  # –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞—á–∞–ª–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
curl https://gestionare-sanctiuni.gov.md -vI --stderr - | grep "expire date"  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç—ã –∏—Å—Ç–µ—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ curl
for DOMAIN in $(cat list.txt); do curl https://$DOMAIN -vI --stderr - | grep "expire date"; done  # –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–æ–≤
```

üìå **–ß—Ç–æ –≤–∞–∂–Ω–æ**:
- –ë—ã–ª–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –º–∞—Å—Å–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å—Ä–æ–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è gov.md-–¥–æ–º–µ–Ω–æ–≤.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã `openssl` –∏ `curl` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ SSL-—Å–æ—Å—Ç–æ—è–Ω–∏—è.
- –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–≤—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —á–µ—Ä–µ–∑ `scp`.

---

## üìÅ –ß–∞—Å—Ç—å 2: –ö–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
grep ssl_cert /etc/nginx/conf.d/*conf  # –ü–æ–∏—Å–∫ —Å—Ç—Ä–æ–∫ —Å ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ –≤ nginx-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp wild.gov.md.* /etc/nginx/ssl/  # –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ –Ω—É–∂–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /etc/nginx/conf.d/ && ls  # –ü–µ—Ä–µ—Ö–æ–¥ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
vim *.conf  # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é
nginx -t && systemctl reload nginx  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ nginx

# –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–º–µ–Ω–∞ –∏–º—ë–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sed 's/wgov.pem/wild.gov.md.pem/g' -i *conf  # –ó–∞–º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—ã–µ –∏–º–µ–Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sed 's/wgov.key/wild.gov.md.key/g' -i *conf  # –ó–∞–º–µ–Ω—è–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
sed 's/private24.key/wild.gov.md.key/g' -i *conf  # –ï—â—ë –æ–¥–Ω–∞ –∑–∞–º–µ–Ω–∞ –∫–ª—é—á–µ–π
sed 's/wild.gov.md24.pem/wild.gov.md.pem/g' -i *conf  # –£—Ç–æ—á–Ω–µ–Ω–∏–µ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º

grep -l wild.gov.md.pem *conf  # –ü—Ä–æ–≤–µ—Ä–∫–∞, –≥–¥–µ —É–∂–µ –ø—Ä–∏–º–µ–Ω—ë–Ω –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
nginx -t && systemctl reload nginx  # –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Å—Ç—ã
tail -f /var/log/nginx/*.log  # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –¥–æ—Å—Ç—É–ø–∞
grep server_name *conf | awk '{print $3}' | grep gov.md | uniq  # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ gov.md
curl ifconfig.co  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ IP —Å–µ—Ä–≤–µ—Ä–∞

cat /etc/keepalived/keepalived.conf  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Keepalived (–≤–æ–∑–º–æ–∂–Ω–æ –∫–ª–∞—Å—Ç–µ—Ä)
```

üìå **–ö–ª—é—á–µ–≤—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è**:
- –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ **–º–∞—Å—Å–æ–≤–∞—è –∑–∞–º–µ–Ω–∞ SSL-—Å—Å—ã–ª–æ–∫** –≤ `.conf` —Ñ–∞–π–ª–∞—Ö (`sed`).
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ —á–µ—Ä–µ–∑ `nginx -t`, —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤** –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–π –∑–∞–º–µ–Ω—ã.
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `Keepalived`, –≤–æ–∑–º–æ–∂–Ω–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ HA-–∫–ª–∞—Å—Ç–µ—Ä–µ.

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å (`systemctl status nginx`).
- –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ–Ω—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å–∫—Ä–∏–ø—Ç–æ–º —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (CI/CD).
- –õ–æ–≥–∏ `modsec`, `nginx error`, –∏ `access` –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç–∫–∞—Ç–∞ –ø—Ä–∏ —Å–±–æ—è—Ö.

---

–ì–æ—Ç–æ–≤–æ.
